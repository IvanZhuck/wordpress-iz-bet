(()=>{"use strict";const t=window.wp.element,e=window.wp.richText,o=window.wp.blockEditor,r=window.wp.components,n=window.wp.i18n,i=window.wp.primitives,a=(0,t.createElement)(i.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)(i.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6.68822 16.625L5.5 17.8145L5.5 5.5L18.5 5.5L18.5 16.625L6.68822 16.625ZM7.31 18.125L19 18.125C19.5523 18.125 20 17.6773 20 17.125L20 5C20 4.44772 19.5523 4 19 4H5C4.44772 4 4 4.44772 4 5V19.5247C4 19.8173 4.16123 20.086 4.41935 20.2237C4.72711 20.3878 5.10601 20.3313 5.35252 20.0845L7.31 18.125ZM16 9.99997H8V8.49997H16V9.99997ZM8 14H13V12.5H8V14Z"}));function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var r,n,i,a,l=[],c=!0,u=!1;try{if(i=(o=o.call(t)).next,0===e){if(Object(o)!==o)return;c=!1}else for(;!(c=(r=i.call(o)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(t){u=!0,n=t}finally{try{if(!c&&null!=o.return&&(a=o.return(),Object(a)!==a))return}finally{if(u)throw n}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}var u="iz-format/tooltip";(0,e.registerFormatType)(u,{title:(0,n.__)("Tooltip","iz-bet"),tagName:"span",className:"iz-tooltip",attributes:{tooltipText:"aria-label"},edit:function(i){var c=i.isActive,s=i.activeAttributes,p=i.value,m=i.onChange,v=i.contentRef,f=l((0,t.useState)(""),2),b=f[0],w=f[1],d=l((0,t.useState)(!1),2),y=d[0],_=d[1],h=l((0,t.useState)(!1),2),C=h[0],R=h[1],g=(0,e.useAnchorRef)({ref:v,value:p});return!c||y||C||(R(!1),_(!0)),!c&&!C&&y&&b&&_(!1),b===s.tooltipText||C||w(s.tooltipText),React.createElement(o.BlockControls,null,React.createElement(r.ToolbarGroup,null,React.createElement(r.ToolbarButton,{icon:a,title:(0,n.__)("Tooltip","iz-bet"),isActive:c,onClick:function(){c?(_(!1),m((0,e.removeFormat)(p,u))):(w(""),_(!0))}}),y&&React.createElement(r.Popover,{anchorRef:g,className:"iz-tooltip-popover",onClose:function(){return _(!1)}},React.createElement(r.TextareaControl,{label:(0,n.__)("Tooltip","iz-bet"),help:(0,n.__)('Enter tooltip text and press "Save" button',"iz-bet"),className:"iz-tooltip-popover__text",value:b,onChange:function(t){R(!0),w(t)}}),React.createElement("div",{className:"iz-tooltip-popover__controls"},React.createElement(r.Button,{onClick:function(){m((0,e.removeFormat)(p,u)),_(!1)},className:"iz-tooltip-popover__controls-remove components-button is-secondary is-destructive"},(0,n.__)("Remove","iz-bet")),React.createElement(r.Button,{onClick:function(){b.length?m((0,e.applyFormat)(p,{type:u,attributes:{tooltipText:b.trim()}})):m((0,e.removeFormat)(p,u)),_(!1)},className:"iz-tooltip-popover__controls-save components-button is-primary"},(0,n.__)("Save","iz-bet"))))))}})})();