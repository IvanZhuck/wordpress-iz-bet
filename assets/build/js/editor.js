(()=>{"use strict";const t=window.wp.element,e=window.wp.richText,o=window.wp.blockEditor,r=window.wp.components,n=window.wp.i18n,i=window.wp.primitives,l=(0,t.createElement)(i.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)(i.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6.68822 16.625L5.5 17.8145L5.5 5.5L18.5 5.5L18.5 16.625L6.68822 16.625ZM7.31 18.125L19 18.125C19.5523 18.125 20 17.6773 20 17.125L20 5C20 4.44772 19.5523 4 19 4H5C4.44772 4 4 4.44772 4 5V19.5247C4 19.8173 4.16123 20.086 4.41935 20.2237C4.72711 20.3878 5.10601 20.3313 5.35252 20.0845L7.31 18.125ZM16 9.99997H8V8.49997H16V9.99997ZM8 14H13V12.5H8V14Z"}));function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var r,n,i,l,a=[],c=!0,s=!1;try{if(i=(o=o.call(t)).next,0===e){if(Object(o)!==o)return;c=!1}else for(;!(c=(r=i.call(o)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){s=!0,n=t}finally{try{if(!c&&null!=o.return&&(l=o.return(),Object(l)!==l))return}finally{if(s)throw n}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}var s="izbet-format/tooltip";(0,e.registerFormatType)(s,{title:(0,n.__)("Tooltip","iz-block-editor-tooltips"),tagName:"span",className:"izbet-tooltip",attributes:{tooltipText:"aria-label"},edit:function(i){var c=i.isActive,p=i.activeAttributes,u=i.value,m=i.onChange,v=i.contentRef,b=a((0,t.useState)(""),2),d=b[0],f=b[1],w=a((0,t.useState)(!1),2),y=w[0],_=w[1],h=a((0,t.useState)(!1),2),C=h[0],E=h[1],g=(0,e.useAnchor)({editableContentElement:v.current});return!c||y||C||(E(!1),_(!0)),!c&&!C&&y&&d&&_(!1),d===p.tooltipText||C||f(p.tooltipText),React.createElement(o.BlockControls,null,React.createElement(r.ToolbarGroup,null,React.createElement(r.ToolbarButton,{icon:l,title:(0,n.__)("Tooltip","iz-block-editor-tooltips"),isActive:c,onClick:function(){c?(_(!1),m((0,e.removeFormat)(u,s))):(f(""),_(!0))}}),y&&React.createElement(r.Popover,{anchor:g,variant:"overlay",className:"izbet-tooltip-popover",onClose:function(){return _(!1)}},React.createElement(r.TextareaControl,{label:(0,n.__)("Tooltip","iz-block-editor-tooltips"),help:(0,n.__)('Enter tooltip text and press "Save" button',"iz-block-editor-tooltips"),className:"izbet-tooltip-popover__text",value:d,onChange:function(t){E(!0),f(t)}}),React.createElement("div",{className:"izbet-tooltip-popover__controls"},React.createElement(r.Button,{onClick:function(){m((0,e.removeFormat)(u,s)),_(!1)},className:"izbet-tooltip-popover__controls-remove components-button is-secondary is-destructive"},(0,n.__)("Remove","iz-block-editor-tooltips")),React.createElement(r.Button,{onClick:function(){d.length?m((0,e.applyFormat)(u,{type:s,attributes:{tooltipText:d.trim()}})):m((0,e.removeFormat)(u,s)),_(!1)},className:"izbet-tooltip-popover__controls-save components-button is-primary"},(0,n.__)("Save","iz-block-editor-tooltips"))))))}})})();